{"version":3,"sources":["./src/app/pages/setting/setting.module.ts","./src/app/pages/setting/setting.page.ts","./src/app/pages/setting/setting.page.html","./src/app/pages/setting/settings-tabs.router.module.ts"],"names":[],"mappings":"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","file":"6-es2015.ecb85c81877e5f280da7.js","sourcesContent":["import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {RouterModule} from '@angular/router';\nimport {Routes} from '@angular/router';\nimport {ComponentsModule} from '@app/components/components.module';\nimport {SettingsTabsRoutingModule} from '@app/pages/setting/settings-tabs.router.module';\nimport {FontAwesomeModule} from '@fortawesome/angular-fontawesome';\n\nimport {IonicModule} from '@ionic/angular';\nimport {TranslateModule} from '@ngx-translate/core';\n\nimport {SettingPage} from './setting.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    FontAwesomeModule,\n    TranslateModule,\n    ComponentsModule,\n    SettingsTabsRoutingModule\n  ],\n  declarations: [SettingPage]\n})\nexport class SettingPageModule {\n}\n","import {ViewChild} from '@angular/core';\nimport {Component} from '@angular/core';\nimport {Platform} from '@ionic/angular';\nimport {IonContent} from '@ionic/angular';\nimport {ConnectionStatusService} from '@services/connection-status-service/connection-status.service';\nimport {MblsAnalyticsService} from '@services/mbls-analytics-service/MblsAnalyticsService';\nimport {LogService} from '@services/log/log.service';\nimport {MobileContextService} from '@services/mobile-configuration-service/mobile-context.service';\nimport {OrderSyncService} from '@services/order-sync/order-sync.service';\nimport {SettingsManager} from '@services/settings-providers/settings.service';\nimport {Subject} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\n\nconst CONFIG = {\n  GA: {\n    PAGE_NAME: 'SettingsPage',\n    EVENT: {\n      FORCING_SYNC: {\n        NAME: 'force-sync',\n        ACTION: 'on-provider-change'\n      }\n    }\n  }\n};\n\n\n@Component({\n  selector: 'app-setting',\n  templateUrl: './setting.page.html',\n  styleUrls: ['./setting.page.scss'],\n})\nexport class SettingPage {\n\n  @ViewChild('content') content: IonContent;\n  private unsubscribe: Subject<void> = new Subject<void>();\n\n  public isConnected: boolean;\n  withLocations = true;\n\n  actionData: any = {};\n\n  constructor(private mobileContextService: MobileContextService,\n              private log: LogService,\n              private connectionStatusService: ConnectionStatusService,\n              private orderSync: OrderSyncService,\n              private settingsManager: SettingsManager,\n              private ga: MblsAnalyticsService,\n              private platform: Platform,) {\n    this.platform.ready()\n      .then(() => {\n        this.ga.trackView(CONFIG.GA.PAGE_NAME).catch(error => this.log.info(`Unable to track view ${CONFIG.GA.PAGE_NAME} with GA`, error));\n      });\n  }\n\n  ionViewWillEnter(): void {\n    this.mobileContextService.userSettingsObservable\n      .pipe(\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe(userSettings => {\n        if (userSettings) {\n        } else {\n        }\n      });\n\n    this.connectionStatusService.connectionStatusSubscription\n      .pipe(\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe(status => {\n        this.isConnected = status.isNetworkConnectedForUser;\n      });\n\n  }\n\n  ionViewWillLeave() {\n    if (this.actionData.selectedLanguage && this.actionData.selectedLanguage !== this.actionData.initialLanguage) {\n      this.mobileContextService.submitContext().subscribe();\n      this.actionData.selectedLanguage = null;\n      this.actionData.initialLanguage = null;\n    }\n\n    if (this.settingsManager.selectedProvidersHasChanged) {\n      this.settingsManager.selectedProvidersHasChanged = false;\n      this.ga.trackEvent(CONFIG.GA.EVENT.FORCING_SYNC.NAME, CONFIG.GA.EVENT.FORCING_SYNC.ACTION).catch(error => this.log.error(`Unable to track event ${CONFIG.GA.EVENT.FORCING_SYNC} with GA`, error));\n      this.orderSync.fullSync()\n        .subscribe(\n          () => {\n            return true;\n          },\n          (error) => {\n            this.log.error('Problem with sync after leaving settings page', error);\n            return true;\n          });\n    }\n\n    return true;\n  }\n\n  ionViewDidLeave() {\n    this.unsubscribe.next();\n  }\n\n  ionViewWillUnload() {\n    this.unsubscribe.complete();\n  }\n}\n","<ion-tabs>\n  <ion-header>\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-menu-button>\n          <img src=\"assets/images/logo_menu.png\"/>\n        </ion-menu-button>\n      </ion-buttons>\n      <ion-title>\n        <span translate=\"pages.drawer-menu.settings\"></span>\n      </ion-title>\n    </ion-toolbar>\n    <offline-indicator [content]=\"content\"></offline-indicator>\n  </ion-header>\n\n  <ion-tab-bar slot=\"top\">\n    <ion-tab-button tab=\"main\">\n      <ion-label>\n        <fa-icon [icon]=\"['fas','sliders-h']\" size=\"lg\"></fa-icon>\n        <span translate=\"pages.settings.main\"></span>\n      </ion-label>\n    </ion-tab-button>\n\n    <ion-tab-button tab=\"display\">\n      <ion-label>\n        <fa-icon [icon]=\"['fas','mobile']\" size=\"lg\"></fa-icon>\n        <span translate=\"pages.settings.display\"></span>\n      </ion-label>\n    </ion-tab-button>\n\n    <ion-tab-button tab=\"location\">\n      <ion-label>\n        <fa-icon [icon]=\"['fas','map-marker-edit']\" size=\"lg\"></fa-icon>\n        <span translate=\"pages.settings.locations\"></span>\n      </ion-label>\n    </ion-tab-button>\n  </ion-tab-bar>\n\n</ion-tabs>\n\n","import {NgModule} from '@angular/core';\nimport {RouterModule} from '@angular/router';\nimport {Routes} from '@angular/router';\nimport {SettingPage} from '@app/pages/setting/setting.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingPage,\n    children: [\n      {\n        path: 'main',\n        children: [\n          {\n            path: '',\n            loadChildren: () => import('./main-setting/main-setting.module').then(m => m.MainSettingPageModule)\n          }\n        ]\n      },\n      {\n        path: 'display',\n        children: [\n          {\n            path: '',\n            loadChildren: () => import('./display-setting/display-setting.module').then(m => m.DisplaySettingPageModule)\n          }\n        ]\n      },\n      {\n        path: 'location',\n        children: [\n          {\n            path: '',\n            loadChildren: () => import('./location-setting/location-setting.module').then(m => m.LocationSettingPageModule)\n          }\n        ]\n      },\n      {\n        path: '',\n        redirectTo: '/setting/main',\n        pathMatch: 'full'\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class SettingsTabsRoutingModule {\n}\n"],"sourceRoot":"webpack:///"}